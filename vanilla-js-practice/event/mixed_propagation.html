<!DOCTYPE html>
<html>
<head>
  <style>
    html, body { height: 100%; }
  </style>
<body>
  <h2>body, button 요소는 버블링 단계의 이벤트만 캐치하고 p 요소는 캡처링 단계의 이벤트만을 캐치한다. 이벤트는 <u>캡처링 – 타깃 – 버블링 단계로 전파</u>되므로 만약 button 요소에서 클릭 이벤트가 발생하면 먼저 캡처링 단계를 캐치하는 p 요소의 이벤트 핸들러가 호출되고, 그후 버블링 단계의 이벤트를 캐치하는 button, body 요소의 이벤트 핸들러가 순차적으로 호출된다.</h2>
  <p>버블링과 캡처링 이벤트 <button>버튼</button></p>
  <script>
    // 버블링 단계의 이벤트를 캐치
    document.body.addEventListener('click', (e) => {
      console.log('Handler for body.');
      console.log(`body 이벤트 단계: ${e.eventPhase}`); 
      console.log(`body 이벤트 타깃: ${e.target}`); 
      console.log(`body 커런트 타깃: ${e.currentTarget}`); 
      console.log('body', event.composedPath());
    });

    // 캡처링 단계의 이벤트를 캐치
    document.querySelector('p').addEventListener('click', (e) => {
      console.log('Handler for paragraph.');
      console.log(`p 이벤트 단계: ${e.eventPhase}`); 
      console.log(`p 이벤트 타깃: ${e.target}`); 
      console.log(`p 커런트 타깃: ${e.currentTarget}`); 
      console.log('p', event.composedPath());
    }, true);

    // 버블링 단계의 이벤트를 캐치
    document.querySelector('button').addEventListener('click', (e) => {
      console.log('Handler for button.');
      console.log(`btn 이벤트 단계: ${e.eventPhase}`); 
      console.log(`btn 이벤트 타깃: ${e.target}`); 
      console.log(`btn 커런트 타깃: ${e.currentTarget}`); 
      console.log('btn', event.composedPath());
    });
  </script>
</body>
</html>